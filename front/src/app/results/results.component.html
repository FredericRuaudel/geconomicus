<div class="w-100 h-100 d-flex flex-row results">
	<div class="d-none d-md-block events">
		<app-events [typeMoney]="game?.typeMoney" [events]="events" [players]="players"></app-events>
	</div>
	<div class="flex-grow-1 d-flex flex-column overflow-auto h-100 p-4">
		<div class="d-flex flex-row">
			<div class="flex-grow-1 d-flex flex-column">
				<img class="geco" src="./assets/images/geconomicus.png" alt="">
				<h1 class="m-2 mt-4 contour">RÃ©sumÃ© du jeu : {{ game?.name }}</h1>
			</div>
			<img class="gunyResults" src="./assets/images/guny.png">
		</div>
		<div class="row g-0 p-2 bg-white rounded shadow">
			<div class="col-sm-12 col-md-4">
				<div><span class="fw-bold">Status: </span>{{ getStatus() }}</div>
				<div><span class="fw-bold">Monnaie: </span>{{ game?.typeMoney == C.JUNE ? "libre" : "dette" }}</div>
				<div><span class="fw-bold">Joueurs: </span>{{ game?.players?.length }}</div>
				<div><span class="fw-bold">Morts et reincarnÃ©s: </span>{{ reincarnates }}</div>
				<div><span class="fw-bold">Meilleur joueur monnaies: </span>ðŸ¥‡{{ bestPlayerOnMoney }}</div>
				<div><span class="fw-bold">Meilleur joueur ressources: </span>ðŸ¥‡{{ bestPlayerOnRes }}</div>
				<div><span class="fw-bold" [matTooltip]="'Qui a fait le plus de transactions'">Le joueur le plus actif: </span>ðŸ¥‡{{ bestPlayerOnTransaction }}
				</div>
			</div>
			<div *ngIf="game?.typeMoney == C.JUNE" class="col-sm-12 col-md-4">
				<div><span class="fw-bold">Taux de croissance : </span>{{ game?.tauxCroissance }}%</div>
				<div><span class="fw-bold" [matTooltip]="'Recalculer toutes les minutes'">Formule du D.U: </span>(MasseM/Joueurs)*Taux
				</div>
				<div><span class="fw-bold">D.U initial : </span>({{ initialMM }} / {{ game?.players?.length }}
					* {{ game?.tauxCroissance | number:'1.2-2' }})
					= {{ initialDU }} Äž1
				</div>
				<div><span class="fw-bold">D.U final : </span>({{ game?.currentMassMonetary| number:'1.2-2' }}
					/ {{ game?.players?.length }}
					* {{ game?.tauxCroissance | number:'1.2-2' }}) = {{ game?.currentDU }} Äž1
				</div>
				<div><span class="fw-bold">Mass monÃ©taire initial : </span>{{ initialMM | number:'1.2-2' }} Äž1</div>
				<div><span class="fw-bold">Mass monÃ©taire final : </span>{{ game?.currentMassMonetary | number:'1.2-2' }}Äž1
				</div>
				<div><span class="fw-bold">Ressources initial : </span> {{ getInitialResourcesInDU(initialResources) }} (D.U eq)
				</div>
				<div><span class="fw-bold">Ressources final : </span>{{ getInitialResourcesInDU(finalResources) }} (D.U eq)
				</div>
			</div>
			<div *ngIf="game?.typeMoney == C.DEBT" class="col-sm-12 col-md-4">
				<div><span class="fw-bold">Mass monÃ©taire initial : </span>{{ initialMM | number:'1.2-2' }} â‚¬</div>
				<div><span class="fw-bold">Mass monÃ©taire final : </span>{{ game?.currentMassMonetary | number:'1.2-2' }} â‚¬
				</div>
				<div><span class="fw-bold">Dettes initial : </span> {{ initialDebts }} â‚¬</div>
				<div><span class="fw-bold">Dettes final : </span>{{ getDebts() }} â‚¬</div>
				<div><span class="fw-bold">Ressources initial : </span> {{ initialResources }} (â‚¬)</div>
				<div><span class="fw-bold">Ressources final : </span>{{ finalResources }} (â‚¬)</div>
				<div><span class="fw-bold">Interets rÃ©cupÃ©rÃ© par la banque : </span>{{ game?.bankInterestEarned }} â‚¬</div>
			</div>
			<div class="col-sm-12 col-md-4">
				<div><span class="fw-bold">DÃ©but: </span>{{ startGameDate| date:"YYYY-MMM-dd HH:mm" }}</div>
				<div><span class="fw-bold">Fin : </span>{{ stopGameDate| date:"YYYY-MMM-dd HH:mm" }}</div>
				<div><span class="fw-bold">DurÃ©e total du jeu : </span>{{ durationGame() }}</div>
				<div><span class="fw-bold">DurÃ©e d'un tour : </span>{{ game?.roundMinutes }} minutes</div>
				<div><span class="fw-bold">Nombre de tours jouÃ© : </span>{{ game?.round }}</div>
			</div>
		</div>

		<h1 class="m-2 mt-4 contour">Comptes en quantitatif
		</h1>
		<div class="graph bg-white rounded shadow">
			<canvas baseChart
							class="chart"
							height="500"
							[data]="lineChartData"
							[options]="lineChartOptions"
							[type]="'line'">
			</canvas>
		</div>
		<h1 *ngIf="game?.typeMoney==C.JUNE" class="m-2 mt-4 contour">Comptes en relatif (Äž1 rapportÃ© au DU de
			l'instant)</h1>
		<div *ngIf="game?.typeMoney==C.JUNE" class="graph bg-white rounded shadow">
			<canvas baseChart
							class="chart"
							height="500"
							[data]="lineChartDataRelatif"
							[options]="lineChartOptionsRelatif"
							[type]="'line'">
			</canvas>
		</div>
		<h1 class="m-2 mt-4 contour">Ressources</h1>
		<div class="graph bg-white rounded shadow">
			<canvas baseChart
							class="chart"
							height="500"
							[data]="lineChartDataResources"
							[options]="lineChartOptionsResources"
							[type]="'line'">
			</canvas>
		</div>
		<h1 class="m-2 mt-4 contour">RÃ©sultat du sondage sur vos ressentis</h1>
		<div class="graph bg-white rounded shadow">
			<canvas baseChart
							class="chart"
							height="300"
							[data]="feedbacksData"
							[options]="feedbacksOptions"
							[legend]="false"
							[type]="'bubble'">
			</canvas>
		</div>
		<div class="d-block d-md-none eventsSmall">
			<app-events [typeMoney]="game?.typeMoney" [events]="events" [players]="players"></app-events>
		</div>
	</div>
</div>
